const _0x2144a9=_0x268b;(function(_0x235365,_0x6aeb32){const _0xba40e5=_0x268b,_0x46b0d8=_0x235365();while(!![]){try{const _0x4472e0=-parseInt(_0xba40e5(0xd2))/0x1+-parseInt(_0xba40e5(0xbc))/0x2+parseInt(_0xba40e5(0x11f))/0x3*(-parseInt(_0xba40e5(0x137))/0x4)+parseInt(_0xba40e5(0xf1))/0x5*(-parseInt(_0xba40e5(0x105))/0x6)+parseInt(_0xba40e5(0xf8))/0x7+-parseInt(_0xba40e5(0x102))/0x8+parseInt(_0xba40e5(0xed))/0x9;if(_0x4472e0===_0x6aeb32)break;else _0x46b0d8['push'](_0x46b0d8['shift']());}catch(_0x4f46bb){_0x46b0d8['push'](_0x46b0d8['shift']());}}}(_0x4b58,0xb140d));import{connect}from'cloudflare:sockets';let userID=_0x2144a9(0xa0);const พร็อกซีไอพีs=[_0x2144a9(0x9a)];let พร็อกซีไอพี=พร็อกซีไอพีs[Math[_0x2144a9(0xa4)](Math[_0x2144a9(0x128)]()*พร็อกซีไอพีs[_0x2144a9(0xca)])],dohURL='https://sky.rethinkdns.com/1:-Pf_____9_8A_AMAIgE8kMABVDDmKOHTAKg=';if(!isValidUUID(userID))throw new Error(_0x2144a9(0x121));export default{async 'fetch'(_0x3513c2,_0x25975a,_0x38f2cb){const _0x5c62ac=_0x2144a9;try{userID=_0x25975a['UUID']||userID,พร็อกซีไอพี=_0x25975a[_0x5c62ac(0x166)]||พร็อกซีไอพี,dohURL=_0x25975a[_0x5c62ac(0xe1)]||dohURL;let _0x4b018c=userID;userID['includes'](',')&&(_0x4b018c=userID['split'](',')[0x0]);const _0x285f23=_0x3513c2['headers'][_0x5c62ac(0x140)](_0x5c62ac(0x143));if(!_0x285f23||_0x285f23!==_0x5c62ac(0xd7)){const _0x43f03f=new URL(_0x3513c2[_0x5c62ac(0x156)]);switch(_0x43f03f[_0x5c62ac(0xcb)]){case _0x5c62ac(0x11d):{return new Response(JSON[_0x5c62ac(0xc6)](_0x3513c2['cf'],null,0x4),{'status':0xc8,'headers':{'Content-Type':_0x5c62ac(0xcf)}});}case'/'+_0x4b018c:{const _0x4d98f1=getวเลสConfig(userID,_0x3513c2[_0x5c62ac(0xda)]['get'](_0x5c62ac(0x14b)));return new Response(''+_0x4d98f1,{'status':0xc8,'headers':{'Content-Type':_0x5c62ac(0x11c)}});};case _0x5c62ac(0xb5)+_0x4b018c:{const _0x30903e=new URL(_0x3513c2[_0x5c62ac(0x156)]),_0xe99c0c=_0x30903e[_0x5c62ac(0xdd)],_0x517f0c=สร้างวเลสSub(userID,_0x3513c2[_0x5c62ac(0xda)][_0x5c62ac(0x140)](_0x5c62ac(0x14b)));return new Response(btoa(_0x517f0c),{'status':0xc8,'headers':{'Content-Type':_0x5c62ac(0xd4)}});};case'/bestip/'+_0x4b018c:{const _0x43029e=_0x3513c2['headers'],_0x59d274=_0x5c62ac(0x15d)+_0x3513c2[_0x5c62ac(0xda)][_0x5c62ac(0x140)](_0x5c62ac(0x14b))+_0x5c62ac(0xf9)+userID+_0x5c62ac(0x14e),_0x36d1f2=await fetch(_0x59d274,{'headers':_0x43029e});return _0x36d1f2;};default:const _0x398d79=cn_hostnames[Math[_0x5c62ac(0xa4)](Math[_0x5c62ac(0x128)]()*cn_hostnames[_0x5c62ac(0xca)])],_0x545a34=new Headers(_0x3513c2[_0x5c62ac(0xda)]);_0x545a34[_0x5c62ac(0xc8)]('cf-connecting-ip','1.2.3.4'),_0x545a34['set'](_0x5c62ac(0xf4),_0x5c62ac(0x107)),_0x545a34[_0x5c62ac(0xc8)]('x-real-ip',_0x5c62ac(0x107)),_0x545a34[_0x5c62ac(0xc8)](_0x5c62ac(0x15e),_0x5c62ac(0xe7));const _0x564a2e='https://'+_0x398d79+_0x43f03f[_0x5c62ac(0xcb)]+_0x43f03f[_0x5c62ac(0x150)];let _0x4a64bc=new Request(_0x564a2e,{'method':_0x3513c2[_0x5c62ac(0x10a)],'headers':_0x545a34,'body':_0x3513c2[_0x5c62ac(0xf5)],'redirect':_0x5c62ac(0xb9)});const _0x413600=await fetch(_0x4a64bc,{'redirect':_0x5c62ac(0xb9)});if([0x12d,0x12e][_0x5c62ac(0x149)](_0x413600['status']))return new Response(_0x5c62ac(0xce)+_0x398d79+_0x5c62ac(0xd1),{'status':0x193,'statusText':_0x5c62ac(0x146)});return _0x413600;}}else return await วเลสOverWSHandler(_0x3513c2);}catch(_0x115aba){let _0x3bf863=_0x115aba;return new Response(_0x3bf863[_0x5c62ac(0x13b)]());}}};export async function uuid_validator(_0x3308c0){const _0x40a794=_0x2144a9,_0x4f00d9=_0x3308c0[_0x40a794(0xda)][_0x40a794(0x140)]('Host'),_0x155fb9=new Date(),_0x2f7fc5=_0x4f00d9[_0x40a794(0xe4)]('.')[0x0],_0x3502b5=_0x155fb9[_0x40a794(0xb4)](),_0xbc0e74=String(_0x155fb9['getMonth']()+0x1)[_0x40a794(0xbf)](0x2,'0'),_0x758036=String(_0x155fb9[_0x40a794(0xb2)]())[_0x40a794(0xbf)](0x2,'0'),_0x5ba38e=_0x3502b5+'-'+_0xbc0e74+'-'+_0x758036,_0x2d73e3=await hashHex_f(_0x2f7fc5);console['log'](_0x2d73e3,_0x2f7fc5,_0x5ba38e);}export async function hashHex_f(_0x2cbfd3){const _0x1fb23f=_0x2144a9,_0x2dc01d=new TextEncoder(),_0x1a4451=_0x2dc01d[_0x1fb23f(0x15b)](_0x2cbfd3),_0x50904e=await crypto['subtle'][_0x1fb23f(0xbb)]('SHA-256',_0x1a4451),_0x1aadc2=Array[_0x1fb23f(0x111)](new Uint8Array(_0x50904e)),_0x303dbc=_0x1aadc2['map'](_0x250ede=>_0x250ede[_0x1fb23f(0x13b)](0x10)[_0x1fb23f(0xbf)](0x2,'0'))[_0x1fb23f(0x132)]('');return _0x303dbc;}function _0x4b58(){const _0x352a5e=['text/plain;charset=utf-8','\x0a\x20\x20<html>\x0a\x20\x20','\x27\x20target=\x27_blank\x27>วเลส\x20节点订阅连接</a>\x0a<a\x20href=\x27clash://install-config?url=','websocket','www.cnzz.com','<h2>UUID:\x20','headers','map','/\x27\x20/>\x0a\x09<meta\x20property=\x27og:image\x27\x20content=\x27https://api.qrserver.com/v1/create-qr-code/?size=500x500&data=','searchParams','dns\x20udp\x20has\x20error','Stringified\x20UUID\x20is\x20invalid','www.pptv.com','DNS_RESOLVER_URL','toLowerCase','webSocket.readyState\x20is\x20not\x20open,\x20maybe\x20close','split','dmxlc3M=','www.cnblogs.com','https://www.google.com/search?q=edtunnel','www.ctrip.com','&fp=randomized&type=ws&host=','www.douban.com','\x27\x20target=\x27_blank\x27>nekobox优选IP自动</a>\x0a<a\x20href=\x27v2rayng://install-config?url=','www.bilibili.com','36912357NNvxrF','readyState','\x0av2ray\x20default\x20ip\x0a---------------------------------------------------------------\x0a','www.aliyun.com','5DIyVAN','releaseLock','www.zhangzishi.cc','x-forwarded-for','body','www.ifeng.com','write','1085896TgwqVK','&uuid=','www.ximalaya.com','www.cnki.net','stack','?format=clash','www.so.com','www.panda.tv','www.cntv.cn','enqueue','4887720BUMXog','application/dns-message','www.163.com','2737842aPhOFO','www.meituan.com','1.2.3.4','\x20is\x20not\x20support,\x20command\x2001-tcp,02-udp,03-mux','userID:\x20','method','www.zol.com.cn','\x0a\x20\x20<head>\x0a\x09<title>EDtunnel:\x20วเลส\x20configuration</title>\x0a\x09<meta\x20name=\x27description\x27\x20content=\x27This\x20is\x20a\x20tool\x20for\x20generating\x20วเลส\x20protocol\x20configurations.\x20Give\x20us\x20a\x20star\x20on\x20GitHub\x20https://github.com/3Kmfi6HP/EDtunnel\x20if\x20you\x20found\x20it\x20useful!\x27>\x0a\x09<meta\x20name=\x27keywords\x27\x20content=\x27EDtunnel,\x20cloudflare\x20pages,\x20cloudflare\x20worker,\x20severless\x27>\x0a\x09<meta\x20name=\x27viewport\x27\x20content=\x27width=device-width,\x20initial-scale=1\x27>\x0a\x09<meta\x20property=\x27og:site_name\x27\x20content=\x27EDtunnel:\x20วเลส\x20configuration\x27\x20/>\x0a\x09<meta\x20property=\x27og:type\x27\x20content=\x27website\x27\x20/>\x0a\x09<meta\x20property=\x27og:title\x27\x20content=\x27EDtunnel\x20-\x20วเลส\x20configuration\x20and\x20subscribe\x20output\x27\x20/>\x0a\x09<meta\x20property=\x27og:description\x27\x20content=\x27Use\x20cloudflare\x20pages\x20and\x20worker\x20severless\x20to\x20implement\x20วเลส\x20protocol\x27\x20/>\x0a\x09<meta\x20property=\x27og:url\x27\x20content=\x27https://','some','pipeTo','www.ttpaihang.com','data','from','www.881903.com','retry\x20tcpSocket\x20closed\x20error','\x27\x20target=\x27_blank\x27>Clash优选IP自动</a>\x0a<a\x20href=\x27sing-box://import-remote-profile?url=','message','www.guancha.cn','https://api.v1.mk/sub?target=clash&url=','www.pconline.com.cn','addressValue\x20is\x20empty,\x20addressType\x20is\x20','webSocketServer\x20has\x20error','www.kuaidi100.com','text/html;\x20charset=utf-8','/cf','sec-websocket-protocol','3dDmUbR','www.tudou.com','uuid\x20is\x20invalid','www.qq.com','www.mafengwo.cn','www.zhaopin.com','/\x27\x20/>\x0a\x09<meta\x20name=\x27twitter:image\x27\x20content=\x27https://cloudflare-ipfs.com/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20/>\x0a\x09<meta\x20property=\x27og:image:width\x27\x20content=\x271500\x27\x20/>\x0a\x09<meta\x20property=\x27og:image:height\x27\x20content=\x271500\x27\x20/>\x0a\x0a\x09<style>\x0a\x09body\x20{\x0a\x09\x20\x20font-family:\x20Arial,\x20sans-serif;\x0a\x09\x20\x20background-color:\x20#f0f0f0;\x0a\x09\x20\x20color:\x20#333;\x0a\x09\x20\x20padding:\x2010px;\x0a\x09}\x0a\x0a\x09a\x20{\x0a\x09\x20\x20color:\x20#1a0dab;\x0a\x09\x20\x20text-decoration:\x20none;\x0a\x09}\x0a\x09img\x20{\x0a\x09\x20\x20max-width:\x20100%;\x0a\x09\x20\x20height:\x20auto;\x0a\x09}\x0a\x0a\x09pre\x20{\x0a\x09\x20\x20white-space:\x20pre-wrap;\x0a\x09\x20\x20word-wrap:\x20break-word;\x0a\x09\x20\x20background-color:\x20#fff;\x0a\x09\x20\x20border:\x201px\x20solid\x20#ddd;\x0a\x09\x20\x20padding:\x2015px;\x0a\x09\x20\x20margin:\x2010px\x200;\x0a\x09}\x0a\x09/*\x20Dark\x20mode\x20*/\x0a\x09@media\x20(prefers-color-scheme:\x20dark)\x20{\x0a\x09\x20\x20body\x20{\x0a\x09\x09background-color:\x20#333;\x0a\x09\x09color:\x20#f0f0f0;\x0a\x09\x20\x20}\x0a\x0a\x09\x20\x20a\x20{\x0a\x09\x09color:\x20#9db4ff;\x0a\x09\x20\x20}\x0a\x0a\x09\x20\x20pre\x20{\x0a\x09\x09background-color:\x20#282a36;\x0a\x09\x09border-color:\x20#6272a4;\x0a\x09\x20\x20}\x0a\x09}\x0a\x09</style>\x0a\x0a\x09<!--\x20Add\x20FontAwesome\x20library\x20-->\x0a\x09<link\x20rel=\x27stylesheet\x27\x20href=\x27https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\x27>\x0a\x20\x20</head>\x0a\x20\x20','weibo.com','www.ted.com','random','www.dianyou.cn','addEventListener','getUint16','send','www.tmall.com','www.renren.com','</pre>\x0a\x20\x20</body>\x0a\x20\x20<script>\x0a\x09function\x20copyToClipboard(text)\x20{\x0a\x09\x20\x20navigator.clipboard.writeText(text)\x0a\x09\x09.then(()\x20=>\x20{\x0a\x09\x09\x20\x20alert(\x22Copied\x20to\x20clipboard\x22);\x0a\x09\x09})\x0a\x09\x09.catch((err)\x20=>\x20{\x0a\x09\x09\x20\x20console.error(\x22Failed\x20to\x20copy\x20to\x20clipboard:\x22,\x20err);\x0a\x09\x09});\x0a\x09}\x0a\x20\x20</script>\x0a\x20\x20</html>','value','www.sina.com.cn','join','www.jd.com','getWriter','www.jianshu.com','&insert=false&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','3563204uChaGo','readableWebSocketStream\x20is\x20abort','catch','POST','toString','arrayBuffer','accept','\x0a\x20\x20<body>\x0a\x20\x20<pre\x20style=\x27background-color:\x20transparent;\x20border:\x20none;\x27>','\x22)\x27><i\x20class=\x22fa\x20fa-clipboard\x22></i>\x20Copy\x20วเลสSec</button>\x0a---------------------------------------------------------------','get','www.toutiao.com','www.youth.cn','Upgrade','replace','pages.dev','Forbidden','\x27\x20target=\x27_blank\x27>优选IP自动节点订阅</a>\x0a<a\x20href=\x27clash://install-config?url=','&path=%2F%3Fed%3D2048#','includes','www.zhibo8.cc','Host','values','www.51cto.com','&path=/','command\x20','search','\x22)\x27><i\x20class=\x22fa\x20fa-clipboard\x22></i>\x20Copy\x20วเลสMain</button>\x0a---------------------------------------------------------------\x0av2ray\x20with\x20bestip\x0a---------------------------------------------------------------\x0a','www.aipai.com','://','close','invild\x20\x20addressType\x20is\x20','url','invalid\x20data','https://','\x27\x20target=\x27_blank\x27>v2rayNG优选IP自动</a></p>','buffer','encode','QA==','https://sub.xf.free.hr/auto?host=','referer','readable','www.dianping.com','www.telegraph.co.uk','www.wechat.com','error','readableWebSocketStream\x20is\x20close','www.xinhuanet.com','PROXYIP','www.secoo.com','www.taobao.com','slice','www.91.com','</pre>\x0a\x20\x20<pre>','172.232.239.151','writable','finally','}\x27\x20target=\x27_blank\x27>Clash\x20for\x20Windows\x20节点订阅连接</a>\x0a<a\x20href=\x27','www.eyny.com','log','1d87483b-a09d-4405-a00d-41acc1a539b0','flatMap','www.58.com','www.360.cn','floor','www.hao123.com','closed','www.sohu.com','www.zhihu.com','www.qqgongyi.com','www.youzu.com','-HTTP-','remoteConnection!.readable\x20abort','remoteSocketToWS\x20has\x20exception\x20','remoteConnection!.readable\x20is\x20close\x20with\x20hasIncomingData\x20is\x20','safeCloseWebSocket\x20error','trim','www.hupu.com','getDate','test','getFullYear','/sub/','</h2>','www.quyaoya.com','www.mgtv.com','manual','www.baidu.com','digest','622730wATKks','tcp','byteLength','padStart','################################################################',':443?encryption=none&security=tls&sni=','www.suning.com','www.xunlei.com','\x0a<p\x20align=\x27center\x27><img\x20src=\x27https://cloudflare-ipfs.com/ipfs/bafybeigd6i5aavwpr6wvnwuyayklq3omonggta4x2q7kpmgafj357nkcky\x27\x20alt=\x27图片描述\x27\x20style=\x27margin-bottom:\x20-50px;\x27>\x0a<b\x20style=\x27font-size:\x2015px;\x27>Welcome!\x20This\x20function\x20generates\x20configuration\x20for\x20วเลส\x20protocol.\x20If\x20you\x20found\x20this\x20useful,\x20please\x20check\x20our\x20GitHub\x20project\x20for\x20more:</b>\x0a<b\x20style=\x27font-size:\x2015px;\x27>欢迎！这是生成\x20วเลส\x20协议的配置。如果您发现这个项目很好用，请查看我们的\x20GitHub\x20项目给我一个star：</b>\x0a<a\x20href=\x27https://github.com/3Kmfi6HP/EDtunnel\x27\x20target=\x27_blank\x27>EDtunnel\x20-\x20https://github.com/3Kmfi6HP/EDtunnel</a>\x0a<iframe\x20src=\x27https://ghbtns.com/github-btn.html?user=USERNAME&repo=REPOSITORY&type=star&count=true&size=large\x27\x20frameborder=\x270\x27\x20scrolling=\x270\x27\x20width=\x27170\x27\x20height=\x2730\x27\x20title=\x27GitHub\x27></iframe>\x0a<a\x20href=\x27//','decode','stringify','www.qidian.com','set','\x0a<button\x20onclick=\x27copyToClipboard(\x22','length','pathname','www.ynet.com','push','Redirects\x20to\x20','application/json;charset=utf-8','charCodeAt','\x20are\x20not\x20allowed.','1261034wHPGZz','connected\x20to\x20'];_0x4b58=function(){return _0x352a5e;};return _0x4b58();}async function วเลสOverWSHandler(_0x48bf6f){const _0x1810c3=_0x2144a9,_0xf7f786=new WebSocketPair(),[_0x5c472b,_0xb47d32]=Object[_0x1810c3(0x14c)](_0xf7f786);_0xb47d32[_0x1810c3(0x13d)]();let _0xd4da5d='',_0x371681='',_0x11df17=new Date();const _0x8fb254=(_0x4af154,_0x29dba3)=>{const _0x55a028=_0x1810c3;console[_0x55a028(0x9f)]('['+_0x11df17+'\x20'+_0xd4da5d+':'+_0x371681+']\x20'+_0x4af154,_0x29dba3||'');},_0x4edcb7=_0x48bf6f[_0x1810c3(0xda)][_0x1810c3(0x140)](_0x1810c3(0x11e))||'',_0xc70b95=makeReadableWebSocketStream(_0xb47d32,_0x4edcb7,_0x8fb254);let _0x1c5cfd={'value':null},_0x3b96c1=null,_0x1a2a24=![];return _0xc70b95[_0x1810c3(0x10e)](new WritableStream({async 'write'(_0x1f5ba4,_0x663a97){const _0x574248=_0x1810c3;if(_0x1a2a24&&_0x3b96c1)return _0x3b96c1(_0x1f5ba4);if(_0x1c5cfd[_0x574248(0x130)]){const _0x7852e0=_0x1c5cfd['value']['writable'][_0x574248(0x134)]();await _0x7852e0[_0x574248(0xf7)](_0x1f5ba4),_0x7852e0[_0x574248(0xf2)]();return;}const {hasError:_0x5b73e8,message:_0x26b1af,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x1b2742,วเลสVersion:วเลสVersion=new Uint8Array([0x0,0x0]),isUDP:_0x18e928}=processวเลสHeader(_0x1f5ba4,userID);_0xd4da5d=addressRemote,_0x371681=portRemote+'\x20'+(_0x18e928?'udp':_0x574248(0xbd))+'\x20';if(_0x5b73e8)throw new Error(_0x26b1af);if(_0x18e928&&portRemote!==0x35)throw new Error('UDP\x20proxy\x20only\x20enabled\x20for\x20DNS\x20which\x20is\x20port\x2053');_0x18e928&&portRemote===0x35&&(_0x1a2a24=!![]);const _0x1550d3=new Uint8Array([วเลสVersion[0x0],0x0]),_0x515fa7=_0x1f5ba4[_0x574248(0x97)](_0x1b2742);if(_0x1a2a24){const {write:_0x3d5df8}=await handleUDPOutBound(_0xb47d32,_0x1550d3,_0x8fb254);_0x3b96c1=_0x3d5df8,_0x3b96c1(_0x515fa7);return;}handleTCPOutBound(_0x1c5cfd,addressRemote,portRemote,_0x515fa7,_0xb47d32,_0x1550d3,_0x8fb254);},'close'(){const _0x1053b2=_0x1810c3;_0x8fb254(_0x1053b2(0x164));},'abort'(_0x2e1805){const _0x499c46=_0x1810c3;_0x8fb254(_0x499c46(0x138),JSON[_0x499c46(0xc6)](_0x2e1805));}}))[_0x1810c3(0x139)](_0x9841cd=>{_0x8fb254('readableWebSocketStream\x20pipeTo\x20error',_0x9841cd);}),new Response(null,{'status':0x65,'webSocket':_0x5c472b});}async function handleTCPOutBound(_0x4e3d53,_0xc82acf,_0x5d578c,_0x395769,_0x40fe4d,_0x165da0,_0x108275){async function _0x20dd23(_0x5c251c,_0x351a19){const _0x444945=_0x268b,_0x7b8499=connect({'hostname':_0x5c251c,'port':_0x351a19});_0x4e3d53[_0x444945(0x130)]=_0x7b8499,_0x108275(_0x444945(0xd3)+_0x5c251c+':'+_0x351a19);const _0x7d9a95=_0x7b8499[_0x444945(0x9b)][_0x444945(0x134)]();return await _0x7d9a95[_0x444945(0xf7)](_0x395769),_0x7d9a95[_0x444945(0xf2)](),_0x7b8499;}async function _0x485bf7(){const _0x8f7aa8=_0x268b,_0xe70a19=await _0x20dd23(พร็อกซีไอพี||_0xc82acf,_0x5d578c);_0xe70a19[_0x8f7aa8(0xa6)][_0x8f7aa8(0x139)](_0x33c7d9=>{const _0xd8359=_0x8f7aa8;console[_0xd8359(0x9f)](_0xd8359(0x113),_0x33c7d9);})[_0x8f7aa8(0x9c)](()=>{safeCloseWebSocket(_0x40fe4d);}),remoteSocketToWS(_0xe70a19,_0x40fe4d,_0x165da0,null,_0x108275);}const _0x16da38=await _0x20dd23(_0xc82acf,_0x5d578c);remoteSocketToWS(_0x16da38,_0x40fe4d,_0x165da0,_0x485bf7,_0x108275);}function makeReadableWebSocketStream(_0xe9bb5,_0x132c00,_0x1fe7b9){let _0x48ebd0=![];const _0x565a36=new ReadableStream({'start'(_0x5774b6){const _0x5aff56=_0x268b;_0xe9bb5[_0x5aff56(0x12a)](_0x5aff56(0x115),_0x121634=>{const _0x328a24=_0x5aff56,_0x2f656e=_0x121634[_0x328a24(0x110)];_0x5774b6[_0x328a24(0x101)](_0x2f656e);}),_0xe9bb5[_0x5aff56(0x12a)](_0x5aff56(0x154),()=>{const _0x1720cb=_0x5aff56;safeCloseWebSocket(_0xe9bb5),_0x5774b6[_0x1720cb(0x154)]();}),_0xe9bb5['addEventListener'](_0x5aff56(0x163),_0x5443b6=>{const _0x499bd8=_0x5aff56;_0x1fe7b9(_0x499bd8(0x11a)),_0x5774b6[_0x499bd8(0x163)](_0x5443b6);});const {earlyData:_0x59d8ea,error:_0x2ada28}=base64ToArrayBuffer(_0x132c00);if(_0x2ada28)_0x5774b6['error'](_0x2ada28);else _0x59d8ea&&_0x5774b6[_0x5aff56(0x101)](_0x59d8ea);},'pull'(_0x1f9244){},'cancel'(_0x2637f4){_0x1fe7b9('ReadableStream\x20was\x20canceled,\x20due\x20to\x20'+_0x2637f4),_0x48ebd0=!![],safeCloseWebSocket(_0xe9bb5);}});return _0x565a36;}function processวเลสHeader(_0x52cdd7,_0x15be3a){const _0x29bfb8=_0x2144a9;if(_0x52cdd7['byteLength']<0x18)return{'hasError':!![],'message':_0x29bfb8(0x157)};const _0x41af46=new Uint8Array(_0x52cdd7[_0x29bfb8(0x97)](0x0,0x1));let _0x223cb3=![],_0x2efc76=![];const _0x2ee4ab=new Uint8Array(_0x52cdd7[_0x29bfb8(0x97)](0x1,0x11)),_0x30ae99=stringify(_0x2ee4ab),_0x4ebf75=_0x15be3a[_0x29bfb8(0x149)](',')?_0x15be3a[_0x29bfb8(0xe4)](','):[_0x15be3a];_0x223cb3=_0x4ebf75[_0x29bfb8(0x10d)](_0xfc3b13=>_0x30ae99===_0xfc3b13['trim']())||_0x4ebf75[_0x29bfb8(0xca)]===0x1&&_0x30ae99===_0x4ebf75[0x0][_0x29bfb8(0xb0)](),console[_0x29bfb8(0x9f)](_0x29bfb8(0x109)+_0x30ae99);if(!_0x223cb3)return{'hasError':!![],'message':'invalid\x20user'};const _0x5641e9=new Uint8Array(_0x52cdd7[_0x29bfb8(0x97)](0x11,0x12))[0x0],_0x552f96=new Uint8Array(_0x52cdd7[_0x29bfb8(0x97)](0x12+_0x5641e9,0x12+_0x5641e9+0x1))[0x0];if(_0x552f96===0x1)_0x2efc76=![];else{if(_0x552f96===0x2)_0x2efc76=!![];else return{'hasError':!![],'message':_0x29bfb8(0x14f)+_0x552f96+_0x29bfb8(0x108)};}const _0x4019d0=0x12+_0x5641e9+0x1,_0x1d9136=_0x52cdd7[_0x29bfb8(0x97)](_0x4019d0,_0x4019d0+0x2),_0x126e92=new DataView(_0x1d9136)['getUint16'](0x0);let _0x3815c2=_0x4019d0+0x2;const _0x334ac5=new Uint8Array(_0x52cdd7['slice'](_0x3815c2,_0x3815c2+0x1)),_0x66f516=_0x334ac5[0x0];let _0x474b8c=0x0,_0x5b038c=_0x3815c2+0x1,_0x1bb97a='';switch(_0x66f516){case 0x1:_0x474b8c=0x4,_0x1bb97a=new Uint8Array(_0x52cdd7[_0x29bfb8(0x97)](_0x5b038c,_0x5b038c+_0x474b8c))[_0x29bfb8(0x132)]('.');break;case 0x2:_0x474b8c=new Uint8Array(_0x52cdd7[_0x29bfb8(0x97)](_0x5b038c,_0x5b038c+0x1))[0x0],_0x5b038c+=0x1,_0x1bb97a=new TextDecoder()[_0x29bfb8(0xc5)](_0x52cdd7[_0x29bfb8(0x97)](_0x5b038c,_0x5b038c+_0x474b8c));break;case 0x3:_0x474b8c=0x10;const _0x154499=new DataView(_0x52cdd7[_0x29bfb8(0x97)](_0x5b038c,_0x5b038c+_0x474b8c)),_0x1012bf=[];for(let _0x5b3529=0x0;_0x5b3529<0x8;_0x5b3529++){_0x1012bf[_0x29bfb8(0xcd)](_0x154499['getUint16'](_0x5b3529*0x2)['toString'](0x10));}_0x1bb97a=_0x1012bf[_0x29bfb8(0x132)](':');break;default:return{'hasError':!![],'message':_0x29bfb8(0x155)+_0x66f516};}if(!_0x1bb97a)return{'hasError':!![],'message':_0x29bfb8(0x119)+_0x66f516};return{'hasError':![],'addressRemote':_0x1bb97a,'addressType':_0x66f516,'portRemote':_0x126e92,'rawDataIndex':_0x5b038c+_0x474b8c,'วเลสVersion':_0x41af46,'isUDP':_0x2efc76};}async function remoteSocketToWS(_0xb81dae,_0x4638f8,_0x48c17e,_0x2dd439,_0x35afb1){const _0x3838b9=_0x2144a9;let _0x1e84a7=0x0,_0x486665=[],_0x7c4d58=_0x48c17e,_0x328c26=![];await _0xb81dae['readable'][_0x3838b9(0x10e)](new WritableStream({'start'(){},async 'write'(_0x28580f,_0x2ecb28){const _0x4ff95e=_0x3838b9;_0x328c26=!![],_0x1e84a7++,_0x4638f8[_0x4ff95e(0xee)]!==WS_READY_STATE_OPEN&&_0x2ecb28[_0x4ff95e(0x163)](_0x4ff95e(0xe3)),_0x7c4d58?(_0x4638f8[_0x4ff95e(0x12c)](await new Blob([_0x7c4d58,_0x28580f])['arrayBuffer']()),_0x7c4d58=null):_0x4638f8[_0x4ff95e(0x12c)](_0x28580f);},'close'(){const _0x1573b9=_0x3838b9;_0x35afb1(_0x1573b9(0xae)+_0x328c26);},'abort'(_0x3026d2){const _0x472fd7=_0x3838b9;console[_0x472fd7(0x163)](_0x472fd7(0xac),_0x3026d2);}}))[_0x3838b9(0x139)](_0x2e7d2a=>{const _0x2e5930=_0x3838b9;console['error'](_0x2e5930(0xad),_0x2e7d2a[_0x2e5930(0xfc)]||_0x2e7d2a),safeCloseWebSocket(_0x4638f8);}),_0x328c26===![]&&_0x2dd439&&(_0x35afb1('retry'),_0x2dd439());}function base64ToArrayBuffer(_0x2c94de){const _0x4cde53=_0x2144a9;if(!_0x2c94de)return{'earlyData':null,'error':null};try{_0x2c94de=_0x2c94de['replace'](/-/g,'+')[_0x4cde53(0x144)](/_/g,'/');const _0x29f81a=atob(_0x2c94de),_0x1ffe66=Uint8Array[_0x4cde53(0x111)](_0x29f81a,_0x225902=>_0x225902[_0x4cde53(0xd0)](0x0));return{'earlyData':_0x1ffe66[_0x4cde53(0x15a)],'error':null};}catch(_0x4592e8){return{'earlyData':null,'error':_0x4592e8};}}function isValidUUID(_0x4b1e39){const _0x135dc3=_0x2144a9,_0x33954b=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x33954b[_0x135dc3(0xb3)](_0x4b1e39);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x5523d7){const _0x4e9ff2=_0x2144a9;try{(_0x5523d7[_0x4e9ff2(0xee)]===WS_READY_STATE_OPEN||_0x5523d7[_0x4e9ff2(0xee)]===WS_READY_STATE_CLOSING)&&_0x5523d7[_0x4e9ff2(0x154)]();}catch(_0x5b4af1){console[_0x4e9ff2(0x163)](_0x4e9ff2(0xaf),_0x5b4af1);}}const byteToHex=[];for(let i=0x0;i<0x100;++i){byteToHex['push']((i+0x100)[_0x2144a9(0x13b)](0x10)['slice'](0x1));}function unsafeStringify(_0x32ee1e,_0x19dd18=0x0){const _0x450625=_0x2144a9;return(byteToHex[_0x32ee1e[_0x19dd18+0x0]]+byteToHex[_0x32ee1e[_0x19dd18+0x1]]+byteToHex[_0x32ee1e[_0x19dd18+0x2]]+byteToHex[_0x32ee1e[_0x19dd18+0x3]]+'-'+byteToHex[_0x32ee1e[_0x19dd18+0x4]]+byteToHex[_0x32ee1e[_0x19dd18+0x5]]+'-'+byteToHex[_0x32ee1e[_0x19dd18+0x6]]+byteToHex[_0x32ee1e[_0x19dd18+0x7]]+'-'+byteToHex[_0x32ee1e[_0x19dd18+0x8]]+byteToHex[_0x32ee1e[_0x19dd18+0x9]]+'-'+byteToHex[_0x32ee1e[_0x19dd18+0xa]]+byteToHex[_0x32ee1e[_0x19dd18+0xb]]+byteToHex[_0x32ee1e[_0x19dd18+0xc]]+byteToHex[_0x32ee1e[_0x19dd18+0xd]]+byteToHex[_0x32ee1e[_0x19dd18+0xe]]+byteToHex[_0x32ee1e[_0x19dd18+0xf]])[_0x450625(0xe2)]();}function stringify(_0x575edc,_0x1c3fe3=0x0){const _0xf63335=_0x2144a9,_0x1b4707=unsafeStringify(_0x575edc,_0x1c3fe3);if(!isValidUUID(_0x1b4707))throw TypeError(_0xf63335(0xdf));return _0x1b4707;}function _0x268b(_0x27a763,_0x195559){const _0x4b5894=_0x4b58();return _0x268b=function(_0x268b6a,_0x5a4f44){_0x268b6a=_0x268b6a-0x97;let _0x50d00c=_0x4b5894[_0x268b6a];return _0x50d00c;},_0x268b(_0x27a763,_0x195559);}async function handleUDPOutBound(_0x122cc7,_0x140f2f,_0x34a9d7){const _0x3c14c5=_0x2144a9;let _0x4209c6=![];const _0x5ea1d7=new TransformStream({'start'(_0x22b245){},'transform'(_0x423e90,_0x2930e4){const _0x1bb0ed=_0x268b;for(let _0x779b57=0x0;_0x779b57<_0x423e90['byteLength'];){const _0x56db22=_0x423e90[_0x1bb0ed(0x97)](_0x779b57,_0x779b57+0x2),_0x50a09e=new DataView(_0x56db22)[_0x1bb0ed(0x12b)](0x0),_0x273f3b=new Uint8Array(_0x423e90['slice'](_0x779b57+0x2,_0x779b57+0x2+_0x50a09e));_0x779b57=_0x779b57+0x2+_0x50a09e,_0x2930e4[_0x1bb0ed(0x101)](_0x273f3b);}},'flush'(_0x59da7e){}});_0x5ea1d7[_0x3c14c5(0x15f)][_0x3c14c5(0x10e)](new WritableStream({async 'write'(_0x48045d){const _0x3010f7=_0x3c14c5,_0x4d3ce6=await fetch(dohURL,{'method':_0x3010f7(0x13a),'headers':{'content-type':_0x3010f7(0x103)},'body':_0x48045d}),_0x589934=await _0x4d3ce6[_0x3010f7(0x13c)](),_0x301e98=_0x589934[_0x3010f7(0xbe)],_0x344b7d=new Uint8Array([_0x301e98>>0x8&0xff,_0x301e98&0xff]);_0x122cc7[_0x3010f7(0xee)]===WS_READY_STATE_OPEN&&(_0x34a9d7('doh\x20success\x20and\x20dns\x20message\x20length\x20is\x20'+_0x301e98),_0x4209c6?_0x122cc7[_0x3010f7(0x12c)](await new Blob([_0x344b7d,_0x589934])[_0x3010f7(0x13c)]()):(_0x122cc7[_0x3010f7(0x12c)](await new Blob([_0x140f2f,_0x344b7d,_0x589934])[_0x3010f7(0x13c)]()),_0x4209c6=!![]));}}))['catch'](_0x762900=>{const _0x11bdcc=_0x3c14c5;_0x34a9d7(_0x11bdcc(0xde)+_0x762900);});const _0x7509d1=_0x5ea1d7[_0x3c14c5(0x9b)]['getWriter']();return{'write'(_0x4c1cb2){const _0x25be53=_0x3c14c5;_0x7509d1[_0x25be53(0xf7)](_0x4c1cb2);}};}const at=_0x2144a9(0x15c),pt=_0x2144a9(0xe5),ed='RUR0dW5uZWw=';function getวเลสConfig(_0x5133a3,_0x27877b){const _0x15ad3e=_0x2144a9,_0x3132be=_0x15ad3e(0xc1)+_0x27877b+_0x15ad3e(0xe9)+_0x27877b+'&path=%2F%3Fed%3D2048#'+_0x27877b,_0x1f6544=_0x15ad3e(0xc0),_0x27331e=_0x5133a3[_0x15ad3e(0xe4)](','),_0x1aa655=_0x27331e[_0x15ad3e(0xdb)](_0x512f7c=>{const _0x38603f=_0x15ad3e,_0x345cb5=atob(pt)+'://'+_0x512f7c+atob(at)+_0x27877b+_0x3132be,_0x2e153d=atob(pt)+_0x38603f(0x153)+_0x512f7c+atob(at)+พร็อกซีไอพี+_0x3132be;return _0x38603f(0xd9)+_0x512f7c+_0x38603f(0xb6)+_0x1f6544+_0x38603f(0xef)+_0x345cb5+_0x38603f(0xc9)+_0x345cb5+_0x38603f(0x151)+_0x2e153d+'\x0a<button\x20onclick=\x27copyToClipboard(\x22'+_0x2e153d+_0x38603f(0x13f);})['join']('\x0a'),_0x372a13=_0x15ad3e(0x158)+_0x27877b+'/sub/'+_0x27331e[0x0]+_0x15ad3e(0xfd),_0xc75e85=_0x15ad3e(0x158)+_0x27877b+'/bestip/'+_0x27331e[0x0],_0x3f9da8=_0x15ad3e(0x117)+encodeURIComponent(_0x372a13)+_0x15ad3e(0x136),_0x561593=_0x15ad3e(0xc4)+_0x27877b+_0x15ad3e(0xb5)+_0x27331e[0x0]+_0x15ad3e(0xd6)+encodeURIComponent('https://'+_0x27877b+_0x15ad3e(0xb5)+_0x27331e[0x0]+'?format=clash')+_0x15ad3e(0x9d)+_0x3f9da8+'\x27\x20target=\x27_blank\x27>Clash\x20节点订阅连接</a>\x0a<a\x20href=\x27'+_0xc75e85+_0x15ad3e(0x147)+encodeURIComponent(_0xc75e85)+_0x15ad3e(0x114)+encodeURIComponent(_0xc75e85)+'\x27\x20target=\x27_blank\x27>singbox优选IP自动</a>\x0a<a\x20href=\x27sn://subscription?url='+encodeURIComponent(_0xc75e85)+_0x15ad3e(0xeb)+encodeURIComponent(_0xc75e85)+_0x15ad3e(0x159),_0x578c81=_0x15ad3e(0x10c)+_0x27877b+_0x15ad3e(0xdc)+encodeURIComponent('วเลส://'+_0x5133a3['split'](',')[0x0]+'@'+_0x27877b+_0x3132be)+'\x27\x20/>\x0a\x09<meta\x20name=\x27twitter:card\x27\x20content=\x27summary_large_image\x27\x20/>\x0a\x09<meta\x20name=\x27twitter:title\x27\x20content=\x27EDtunnel\x20-\x20วเลส\x20configuration\x20and\x20subscribe\x20output\x27\x20/>\x0a\x09<meta\x20name=\x27twitter:description\x27\x20content=\x27Use\x20cloudflare\x20pages\x20and\x20worker\x20severless\x20to\x20implement\x20วเลส\x20protocol\x27\x20/>\x0a\x09<meta\x20name=\x27twitter:url\x27\x20content=\x27https://'+_0x27877b+_0x15ad3e(0x125);return _0x15ad3e(0xd5)+_0x578c81+_0x15ad3e(0x13e)+_0x561593+_0x15ad3e(0x99)+_0x1aa655+_0x15ad3e(0x12f);}const เซ็ตพอร์ตHttp=new Set([0x50,0x1f90,0x22b0,0x804,0x826,0x82f,0x822]),เซ็ตพอร์ตHttps=new Set([0x1bb,0x20fb,0x805,0x830,0x827,0x823]);function สร้างวเลสSub(_0x398d3e,_0x340eb5){const _0x171c97=_0x2144a9,_0x28dbfd=_0x398d3e[_0x171c97(0x149)](',')?_0x398d3e[_0x171c97(0xe4)](','):[_0x398d3e],_0x158de2='?encryption=none&security=none&fp=random&type=ws&host='+_0x340eb5+_0x171c97(0x148),_0x280513='?encryption=none&security=tls&sni='+_0x340eb5+'&fp=random&type=ws&host='+_0x340eb5+'&path=%2F%3Fed%3D2048#',_0x5f17b5=_0x28dbfd[_0x171c97(0xa1)](_0x180f25=>{const _0x45a7ff=_0x171c97,_0x7df65=Array['from'](เซ็ตพอร์ตHttp)['flatMap'](_0x2ffafb=>{const _0x5d83ae=_0x268b;if(!_0x340eb5[_0x5d83ae(0x149)](_0x5d83ae(0x145))){const _0x214fb0=_0x340eb5+_0x5d83ae(0xab)+_0x2ffafb,_0x121ac7=atob(pt)+'://'+_0x180f25+atob(at)+_0x340eb5+':'+_0x2ffafb+_0x158de2+_0x214fb0;return พร็อกซีไอพีs['flatMap'](_0x3bcf97=>{const _0x4f9698=_0x5d83ae,_0x44c769=atob(pt)+_0x4f9698(0x153)+_0x180f25+atob(at)+_0x3bcf97+':'+_0x2ffafb+_0x158de2+_0x214fb0+'-'+_0x3bcf97+'-'+atob(ed);return[_0x121ac7,_0x44c769];});}return[];}),_0x1cd6eb=Array[_0x45a7ff(0x111)](เซ็ตพอร์ตHttps)[_0x45a7ff(0xa1)](_0x4c2772=>{const _0x5e2f14=_0x45a7ff,_0x42af8e=_0x340eb5+'-HTTPS-'+_0x4c2772,_0x22c9cb=atob(pt)+_0x5e2f14(0x153)+_0x180f25+atob(at)+_0x340eb5+':'+_0x4c2772+_0x280513+_0x42af8e;return พร็อกซีไอพีs['flatMap'](_0x4d1dbd=>{const _0x2d648d=_0x5e2f14,_0x2dbe28=atob(pt)+_0x2d648d(0x153)+_0x180f25+atob(at)+_0x4d1dbd+':'+_0x4c2772+_0x280513+_0x42af8e+'-'+_0x4d1dbd+'-'+atob(ed);return[_0x22c9cb,_0x2dbe28];});});return[..._0x7df65,..._0x1cd6eb];});return _0x5f17b5['join']('\x0a');}const cn_hostnames=[_0x2144a9(0x126),_0x2144a9(0xba),_0x2144a9(0x122),_0x2144a9(0x168),_0x2144a9(0x133),_0x2144a9(0x131),_0x2144a9(0xa7),_0x2144a9(0x12d),_0x2144a9(0x104),_0x2144a9(0xa8),'www.youku.com',_0x2144a9(0x165),'www.douban.com',_0x2144a9(0x106),_0x2144a9(0x141),_0x2144a9(0xf6),'www.autohome.com.cn',_0x2144a9(0xa3),'www.douyin.com',_0x2144a9(0x11b),_0x2144a9(0x162),'www.csdn.net','www.imgo.tv',_0x2144a9(0xf0),_0x2144a9(0x9e),_0x2144a9(0xb8),_0x2144a9(0xc3),_0x2144a9(0xa5),_0x2144a9(0xec),_0x2144a9(0x142),_0x2144a9(0xb1),_0x2144a9(0xaa),_0x2144a9(0xff),_0x2144a9(0x120),_0x2144a9(0x10b),'www.toutiao.io','www.tiktok.com','www.netease.com',_0x2144a9(0xfb),_0x2144a9(0x14a),_0x2144a9(0xf3),'www.xueqiu.com',_0x2144a9(0xa9),_0x2144a9(0xfa),_0x2144a9(0x160),_0x2144a9(0xc2),_0x2144a9(0x124),_0x2144a9(0x135),_0x2144a9(0x123),_0x2144a9(0x14d),_0x2144a9(0xc7),_0x2144a9(0xe8),_0x2144a9(0x118),_0x2144a9(0xd8),_0x2144a9(0x161),_0x2144a9(0xcc),_0x2144a9(0x127),_0x2144a9(0x12e),_0x2144a9(0xe0),'www.liepin.com',_0x2144a9(0x112),_0x2144a9(0x152),_0x2144a9(0x10f),_0x2144a9(0xb7),_0x2144a9(0x98),_0x2144a9(0x129),'www.tmtpost.com',_0x2144a9(0xea),_0x2144a9(0x116),_0x2144a9(0xfe),_0x2144a9(0xa2),_0x2144a9(0xe6),_0x2144a9(0x100),_0x2144a9(0x167)];
